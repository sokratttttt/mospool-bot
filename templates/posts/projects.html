{% extends 'base.html' %}

{% block title %}–ü—Ä–æ–µ–∫—Ç—ã - üèä –ë–∞—Å—Å–µ–π–Ω—ã{% endblock %}
{% block page_title %}üèóÔ∏è –ü—Ä–æ–µ–∫—Ç—ã –±–∞—Å—Å–µ–π–Ω–æ–≤{% endblock %}

{% block header_actions %}
<a href="{% url 'project_create' %}" class="btn btn-primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç</a>
{% endblock %}

{% block content %}
<div class="projects-grid">
    {% for project in projects %}
    <div class="project-card">
        {% if project.main_image %}
        <div class="project-image">
            <img src="{{ project.main_image.url }}" alt="{{ project.title }}">
        </div>
        {% endif %}
        <div class="project-body">
            <h3>{{ project.title }}</h3>
            <div class="project-meta">
                <span class="badge">{{ project.get_pool_type_display }}</span>
                <span>{{ project.size }}</span>
            </div>
            <p>{{ project.features|truncatechars:100 }}</p>
            <div class="project-footer">
                {% if project.is_published %}
                <span class="text-success">‚úÖ –ü–æ—Å—Ç —Å–æ–∑–¥–∞–Ω</span>
                {% else %}
                <form method="post" action="{% url 'project_create' %}">
                    {% csrf_token %}
                    <input type="hidden" name="project_id" value="{{ project.id }}">
                    <button class="btn btn-sm btn-primary">üìù –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç</button>
                </form>
                {% endif %}
            </div>
        </div>
    </div>
    {% empty %}
    <div class="empty-state">
        <p>üì≠ –ù–µ—Ç –ø—Ä–æ–µ–∫—Ç–æ–≤</p>
        <a href="{% url 'project_create' %}" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç</a>
    </div>
    {% endfor %}
</div>
{% endblock %}